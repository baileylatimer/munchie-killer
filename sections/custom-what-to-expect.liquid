<div class="custom-what-to-expect tw-py-16 tw-px-4 md:tw-px-8 br" style="background-color: var(--color-primary);">
  <div class="tw-max-w-7xl tw-mx-auto">
    
    <!-- Desktop: Title + Cards in Same Row -->
    <div class="tw-hidden md:tw-grid tw-grid-cols-6 tw-gap-6 tw-items-start">
      
      <!-- Title Section (spans 2 columns - 1/3 width) -->
      {% if section.settings.heading != blank %}
        <div class="tw-col-span-2">
          <h2 class="tw-text-3xl md:tw-text-4xl lg:tw-text-5xl tw-font-bold" style="color: var(--color-bg) !important;">
            {{ section.settings.heading }}
          </h2>
        </div>
      {% endif %}

      <!-- Cards Container (spans 4 columns - 2/3 width) -->
      <div class="tw-col-span-4 tw-grid tw-grid-cols-3 tw-gap-6">
        {% for block in section.blocks %}
          {% if block.type == 'timeline_card' %}
            <div 
              class="tw-p-8 tw-rounded-2xl tw-flex tw-flex-col tw-justify-between"
              style="background-color: var(--color-bg); height: 395px;"
              {{ block.shopify_attributes }}
            >
              
              <!-- Timeline Label -->
              {% if block.settings.timeline != blank %}
                <h5 class="tw-text-lg tw-font-medium tw-mb-4" style="color: var(--color-primary) !important;">
                  {{ block.settings.timeline }}
                </h5>
              {% endif %}

              <!-- Divider Line -->
          

              <!-- Card Content -->
              <div class="">
                <div class="tw-w-full tw-h-px tw-mb-8" style="background-color: var(--color-primary); opacity: 0.3;"></div>
                <!-- Main Title -->
                {% if block.settings.title != blank %}
                  <h4 class="tw-text-2xl md:tw-text-3xl tw-font-bold tw-mb-4" style="color: var(--color-primary)  !important;">
                    {{ block.settings.title }}
                  </h4>
                {% endif %}

                <!-- Description -->
                {% if block.settings.description != blank %}
                  <p class="tw-text-base tw-leading-relaxed" style="color: var(--color-primary); opacity: 0.8;">
                    {{ block.settings.description }}
                  </p>
                {% endif %}
              </div>

            </div>
          {% endif %}
        {% endfor %}
      </div>

    </div>

    <!-- Mobile: Title + Cards -->
    <div class="tw-block md:tw-hidden">
      
      <!-- Mobile Title -->
      {% if section.settings.heading != blank %}
        <h2 class="tw-text-3xl tw-font-bold tw-mb-8" style="color: var(--color-bg);">
          {{ section.settings.heading }}
        </h2>
      {% endif %}

      <!-- Mobile: Horizontal Scroll -->
      {% if section.blocks.size > 0 %}
        <div class="tw-flex tw-gap-4 tw-overflow-x-auto tw-scroll-smooth tw-snap-x tw-snap-mandatory tw--mx-4 tw-px-4" 
             style="scrollbar-width: none; -ms-overflow-style: none;">
          {% for block in section.blocks %}
            {% if block.type == 'timeline_card' %}
              <div 
                class="tw-p-6 tw-rounded-2xl tw-flex tw-flex-col tw-justify-between tw-flex-shrink-0 tw-snap-start"
                style="background-color: var(--color-bg); height: 395px; width: 70vw;"
                {{ block.shopify_attributes }}
              >
                
                <!-- Timeline Label -->
                {% if block.settings.timeline != blank %}
                  <h5 class="tw-text-lg tw-font-medium tw-mb-4" style="color: var(--color-primary);">
                    {{ block.settings.timeline }}
                  </h5>
                {% endif %}

                <!-- Divider Line -->
                <div class="tw-w-full tw-h-px tw-mb-6" style="background-color: var(--color-primary); opacity: 0.3;"></div>

                <!-- Card Content -->
                <div class="">
                  <!-- Main Title -->
                  {% if block.settings.title != blank %}
                    <h4 class="tw-text-xl tw-font-bold tw-mb-4" style="color: var(--color-primary);">
                      {{ block.settings.title }}
                    </h4>
                  {% endif %}

                  <!-- Description -->
                  {% if block.settings.description != blank %}
                    <p class="tw-text-sm tw-leading-relaxed" style="color: var(--color-primary); opacity: 0.8;">
                      {{ block.settings.description }}
                    </p>
                  {% endif %}
                </div>

              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}

    </div>

  </div>
</div>

<!-- Hide scrollbar on mobile -->
<style>
  .custom-what-to-expect .tw-overflow-x-auto::-webkit-scrollbar {
    display: none;
  }
</style>

{% schema %}
{
  "name": "Custom: What to Expect",
  "tag": "section",
  "class": "section tw-py-8",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "What to expect"
    }
  ],
  "blocks": [
    {
      "type": "timeline_card",
      "name": "Timeline Card",
      "settings": [
        {
          "type": "text",
          "id": "timeline",
          "label": "Timeline",
          "default": "Day 1-2"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Card Title",
          "default": "Balanced appetite"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Sugar cravings fade as blood sugar levels stabilize."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom: What to Expect",
      "blocks": [
        {
          "type": "timeline_card",
          "settings": {
            "timeline": "Day 1-2",
            "title": "Balanced appetite",
            "description": "Sugar cravings fade as blood sugar levels stabilize."
          }
        },
        {
          "type": "timeline_card",
          "settings": {
            "timeline": "Week 2-3",
            "title": "Steady energy",
            "description": "Less snacking, better focus throughout the day."
          }
        },
        {
          "type": "timeline_card",
          "settings": {
            "timeline": "Month 2+",
            "title": "Visible change",
            "description": "Improved body and mood â€” control feels effortless."
          }
        }
      ]
    }
  ]
}
{% endschema %}
